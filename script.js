function generateLetter() {
    let firstName = document.getElementById("firstName").value;
    let lastName = document.getElementById("lastName").value;

    if (!firstName || !lastName) {
        alert("Please enter both first and last name");
        return;
    }

    let letter = `

рђЎрђёрђ║рђ╣рђѓрђюрђгрђЋрђФ ${firstName} ${lastName},<br><br>

рђђрђГрђ»рђџрђ║ рђАрђЊрђГрђђ рђЋрђ╝рђ▒рђгрђЂрђ╗рђёрђ║рђљрђгрђђ<br><br> First: "You had me at hello" 

<br><br>
рђљрђђрђџрђ║рђЋрђФ рђЎрђёрђ║рђИрђђрђГрђ» рђЎрђ╝рђёрђ║рђЎрђ╝рђёрђ║рђЂрђ╗рђёрђ║рђИрђЋрђФрђЋрђ▓ рђАрђ▓рђирђђрђљрђірђ║рђИрђђ рђАрђЁрђЋрђ╗рђГрђ»рђИрђЂрђ▓рђирђљрђгрђЋрђ▒рђФрђирђћрђ▒рђгрђ║рЂІ 
рђўрђгрђюрђГрђ»рђирђюрђ▓рђљрђ▒рђгрђи рђЎрђърђГрђўрђ░рђИ рђЁрђЋрђ╝рђ▒рђгрђЏрђЎрђЙрђгрђђрђГрђ» рђљрђйрђћрђирђ║рђєрђ»рђљрђ║рђћрђ▒рђЎрђГрђљрђџрђ║рЂІ 
рђАрђЂрђ»рђђрђљрђ▒рђгрђи рђљрђЁрђ║рђЁрђљрђЁрђ║рђЁ рђАрђЁрђЋрђ╗рђГрђ»рђИрђюрђгрђљрђ▓рђирђЋрђћрђ║рђИрђђ рђЏрђёрђ║рђЉрђ▓рђђрђћрђ▒рђЋрђ▒рђФрђђрђ║рђЉрђйрђђрђ║рђЂрђ╗рђёрђ║рђћрђ▒рђЋрђ╝рђ«рђИ 
рђљрђЁрђ║рђџрђ▒рђгрђђрђ║рђљрђірђ║рђИ рђАрђ▒рђИрђєрђ▒рђИрђћрђ▒рђюрђгрђЂрђ▓рђирђљрђг рђАрђљрђ▒рђгрђ║рђђрђ╝рђгрђЋрђФрђЋрђ╝рђ«рђИрЂІ 
рђАрђЂрђ»рђљрђ▒рђгрђи рђЎрђёрђ║рђИрђАрђђрђ╝рђ▒рђгрђёрђ║рђИрђљрђйрђ▒рђИрђЏрђёрђ║рђИ рђАрђГрђЋрђ║рђюрђірђ║рђИрђЎрђЏ рђЁрђгрђюрђірђ║рђИрђАрђгрђЏрђ»рђХрђЎрђЏрђћрђ▓рђирЂІ 
${firstName} ${lastName} рђєрђ«рђђ рђљрђ»рђћрђирђ║рђЋрђ╝рђћрђирђ║рђЂрђ╗рђђрђ║рђљрђЁрђ║рђЂрђ»рђљрђ▒рђгрђи рђюрђГрђ»рђирђћрђ▒рђЋрђ╝рђ«рђИ, рђАрђ▓рђирђђрђ╝рђ▒рђгрђёрђирђ║ рђњрђ«рђЁрђгрђђрђГрђ» рђЏрђ▒рђИрђюрђГрђ»рђђрђ║рђљрђгрђЋрђФрЂІ 
рђЏрђЋрђФрђљрђџрђ║ ${firstName} ${lastName} рђАрђ▒рђИрђєрђ▒рђИрђєрђ»рђХрђИрђќрђ╝рђљрђ║рђЋрђФрЂІ ${firstName} ${lastName} рђърђўрђ▒рђгрђєрђћрђ╣рђњрђАрђљрђГрђ»рђёрђ║рђИрђЋрђФрђЋрђ▓рЂІ 
рђњрђ«рђюрђГрђ» рђюрђ░рђёрђџрђ║рђАрђЂрђ╗рђёрђ║рђИрђЂрђ╗рђёрђ║рђИ "fall in love" рђљрђг рђАрђЋрђ╝рђЁрђ║рђюрђгрђИрЂІ 
рђЉрђђрђ║рђЋрђ╝рђ«рђИрђљрђ▒рђгрђирђюрђірђ║рђИ рђАрђЂрђ╗рђГрђћрђ║рђєрђйрђ▓рђћрђ▒рђЏрђёрђ║ рђќрђ╝рђЁрђ║рђЂрђ╗рђёрђ║рђљрђгрђќрђ╝рђЁрђ║рђюрђгрђЎрђЙрђгрђЎрђЙ рђЎрђЪрђ»рђљрђ║рђљрђгрЂІ<br><br>
${firstName} ${lastName}рђЏрђ▓рђи рђАрђќрђ╝рђ▒рђђ рђђрђГрђ»рђџрђ║рђђрђ╝рђгрђИрђЂрђ╗рђёрђ║рђћрђ▒рђљрђ▓рђирђАрђљрђГрђ»рђёрђ║рђИрђєрђГрђ» рђђрђ▒рђгрђёрђ║рђИрђЎрђЙрђгрђЋрђ▓рЂІ рђњрђФрђЎрђЙрђЎрђЪрђ»рђљрђ║рђЏрђёрђ║ рђњрђ«рђАрђљрђГрђ»рђёрђ║рђИрђєрђђрђ║рђЏрђЙрђГрђћрђ▒рђЋрђ▒рђИрђЎрђЙрђгрђЋрђФрЂІ 
рђњрђФрђЋрђ▒рђЎрђ▓рђи рђЏрђЋрђФрђљрђџрђ║ ${firstName} ${lastName} рђърђўрђ▒рђгрђЋрђФрЂі ${firstName} ${lastName} рђєрђћрђ╣рђњрђАрђљрђГрђ»рђёрђ║рђИрђЋрђФрђЋрђ▓рЂІ

<br><br>рђЂрђ╗рђЁрђ║рђљрђџрђ║рђћрђ▒рђгрђ║рЂі<br>
${firstName} ${lastName}<br>
`;


    let box = document.getElementById("letterBox");
    box.innerHTML = letter;
    box.style.display = "block";

    document.getElementById("nextBtn").style.display = "block";
}

function goToQuestion() {
    switchPage("page0", "page1");
}

function goNext() {
    switchPage("page1", "page2");
    startFlowers();
}

function switchPage(from, to) {
    document.getElementById(from).classList.remove("active");
    document.getElementById(to).classList.add("active");
}

/* Flower animation */
function startFlowers() {
    for (let i = 0; i < 30; i++) {
        let flower = document.createElement("div");
        flower.className = "flower";
        flower.innerHTML = "­ЪїИ";
        flower.style.left = Math.random() * 100 + "vw";
        flower.style.animationDuration = (Math.random() * 3 + 3) + "s";
        document.body.appendChild(flower);

        setTimeout(() => flower.remove(), 6000);
    }
}
